<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="img/duvale.svg" type="image/x-icon">
  <title>Painel do Cliente - DuVale</title>
  <link rel="stylesheet" href="css/admin-style.css" />
  <link rel="stylesheet" href="css/cadastro.css" />

  <!-- 
    ImportaÃ§Ã£o do script COM defer:
    O defer faz com que o script seja baixado em paralelo,
    mas executado apenas depois que o DOM estiver pronto.
  -->
  <script src="js/dashboard-cliente.js" defer></script>
</head>
<body class="background">
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">
      <img src="img/duvaleb.png" alt="Logo DuVale" />
    </div>
    <ul class="menu">
      <!-- 
        IMPORTANTE: Adicionamos id="sair" para que o JS possa
        "enxergar" este link e aplicar o logout corretamente.
       -->
      <li>
        <a href="index.html" id="sair">
          <i class="fas fa-sign-out-alt"></i> Sair
        </a>
      </li>
    </ul>
  </nav>

  <!-- Main Container -->
  <main class="main-container">
    <div>
      <br />
      <h1>
        Bem-vindo, <span id="user-name">UsuÃ¡rio</span>!
      </h1>
      <hr class="divider" />
    </div>

    <!-- SeÃ§Ã£o de VisÃ£o Geral / Cards -->
    <section class="overview">
      <div class="cards">

        <!-- Card Em Aberto -->
        <div class="card">
          <div class="card-header">
            <h3>Em Aberto</h3>
            <button class="card-menu-btn" aria-label="Menu de opÃ§Ãµes">
              <img src="img/pgt.png" alt="detalhes" />
            </button>
          </div>
          <hr class="divider" />
          <!-- Mensalidade do usuÃ¡rio -->
          <p id="mensalidade-cliente">R$ 0,00</p>
          <br />
          <!-- BotÃ£o para gerar PIX -->
          <button
            id="gerar-pix"
            aria-label="Gerar QR Code para pagamento com PIX"
          >
            <img src="img/PIX.png" alt="pix" class="h3-icon" />
            Pague com PIX
          </button>
          <!-- Container do QR Code -->
          <div id="qrcode-container" style="display: none; text-align: center; margin-top: 10px;">
            <img id="qrcode" src="" alt="QR Code de Pagamento" style="max-width: 200px; margin-bottom: 10px;" />
            
            <!-- CÃ³digo Pix Copia e Cola -->
            <p><strong>CÃ³digo PIX (Copia e Cola):</strong></p>
            <input type="text" id="codigo-pix" readonly style="width: 100%; text-align: center; padding: 5px; font-size: 14px;">
            
            <!-- BotÃ£o de Copiar -->
            <button id="botao-copiar" onclick="copiarCodigoPix()" style="margin-top: 5px; padding: 8px; font-size: 14px; cursor: pointer;">
              ðŸ“‹ Copiar CÃ³digo PIX
            </button>

            <!-- Timer de expiraÃ§Ã£o -->
            <p id="tempo-restante" style="font-weight: bold; color: red; margin-top: 10px;"></p>
          </div>
          <div class="avisos">
            <li class="avisos-li">Vencimento: --/--/----</li>
            <li class="avisos-li">
              Evite multas e juros, pague sua mensalidade em dia
            </li>
          </div>
        </div>

        <!-- Card Contrato -->
        <div class="card">
          <div class="card-header">
            <h3>Seu Contrato</h3>
            <button class="card-menu-btn" aria-label="Menu de opÃ§Ãµes">
              <img src="img/contrato.png" alt="detalhes" />
            </button>
          </div>
          <hr class="divider" />
          <br />
          <!-- ExibiÃ§Ã£o da duraÃ§Ã£o do contrato -->
          <p id="Contrato">-- Meses</p>
          <br />
          <div class="avisos">
            <li class="avisos-li">
              VigÃªncia: --/--/---- - --/--/----
            </li>
            <li class="avisos-li">
              Valor Mensal: R$ 0,00
            </li>
            <li class="avisos-li">
              Valor Total: R$ 0,00
            </li>
          </div>
        </div>
      </div>
    </section>

    <!-- SeÃ§Ã£o HistÃ³rico -->
    <h3>Seu histÃ³rico</h3>
    <hr class="divider" />
    <section class="historico">
      <div class="table">
        <div class="row header green">
          <div class="cell">Nome</div>
          <div class="cell">ImÃ³vel</div>
          <div class="cell">Vencimento</div>
          <div class="cell">Valor</div>
          <div class="cell">Status</div>
          <div class="cell">AÃ§Ã£o</div>
        </div>
        <!-- Linhas (rows) de histÃ³rico serÃ£o adicionadas dinamicamente via JS -->
      </div>
    </section>

    <!-- SeÃ§Ã£o de Avisos -->
    <section class="avisos">
      <h3>Avisos</h3>
      <hr class="divider" />
      <div id="avisos-container">
        <!-- Avisos podem ser adicionados dinamicamente -->
      </div>
      <div id="avisos-pagination" class="pagination">
        <!-- BotÃµes de paginaÃ§Ã£o, se necessÃ¡rio, podem ser gerados aqui -->
      </div>
    </section>
  </main>
</body>
</html>